<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Meeting Room Booking</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
body {
  font-family: Arial, sans-serif;
  background-color: #f5f5f5;
  margin: 20px;
}

h2 {
  color: #333;
}
</style>
</head>
<body>

<div class="container mt-5 p-4 bg-light rounded shadow-sm" style="max-width:500px;">
  <h2 class="mb-3">Book Meeting Room</h2>

  <div class="mb-2">
    <label for="room" class="form-label">Room</label>
    <select class="form-select" id="room">
      <option value="1">Room A</option>
      <option value="2">Room B</option>
    </select>
  </div>

  <div class="mb-2">
    <label for="time" class="form-label">Time</label>
    <input type="time" id="time" class="form-control" />
  </div>

  <div class="mb-3">
    <label for="title" class="form-label">Meeting Title</label>
    <input type="text" id="title" class="form-control" placeholder="Enter meeting title" />
  </div>

  <button class="btn btn-success w-100" onclick="book()">Book</button>

  <div id="notification" class="mt-3"></div>
</div>

<script>
function book() {
  const roomId = document.getElementById("room").value;
  const time = document.getElementById("time").value;
  const title = document.getElementById("title").value;

  fetch("http://localhost:3000/bookings", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ room_id: roomId, time: time, title: title })
  })
  .then(res => res.json())
  .then(data => {
    // Alert confirmation
    alert(data.message);

    // Smart Notification mock
    const notificationDiv = document.getElementById("notification");
    notificationDiv.innerHTML = `<div class="alert alert-info">ðŸ”” Smart Notification: Meeting booked in room ${roomId} at ${time}</div>`;

    console.log(`ðŸ”” Smart Notification: Meeting booked in room ${roomId} at ${time}`);
  })
  .catch(err => {
    alert("Error booking room: " + err);
  });
}
</script>

</body>
</html>
